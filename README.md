# Acomics Developer Server

Сервер для локальной разработки портала [Авторский Комикс](https://acomics.ru/).

Этот сервер поможет вам, если вы разрабатываете _новые клиентские_ компоненты или страницы, которые работают с существующим API портала, и хотите проверять интеграцию локально.

Этот сервер **не** поможет в разработке серверных компонентов и новых API, а также для доработки _существующих_ клиентских компонентов и страниц.

## Как это работает

Все запросы `http://localhost:8080/proxy/**` на сервере перенаправляются на реальный портал Авторский Комикс по адресу `https://acomics.ru/**`.

> Внимание! Аутентификация происходит под **реальным аккаунтом** и работа происходит с **реальным порталом**! Поэтому будьте аккуратны с вашими данными. Рекомендуется создавать отдельные аккаунты и отдельные скрытые комиксы для целей разработки и тестирования.

Вы можете использовать метод `window.acomicsLegacyClient.sendFormAndParseHtml(form)` для асинхронной отправки формы, которая работает одинаково для dev и prod окружений без необходимости добавлять префикс `/proxy`.

- Примеры компонентов находятся в папке [examples](https://github.com/mr9d/acomics-dev-server/tree/main/static/examples).

- Шаблон для нового компонента - в папке [template](https://github.com/mr9d/acomics-dev-server/tree/main/static/template).

## Запуск сервера

1. Убедитесь, что у вас установлен Node.js 18 версии или выше:

```
> node -v
v18.17.1
```

2. Форкните репозиторий и клонируйте (`git clone`) его локально.

3. Установите зависимость через `npm install`.

4. Создайте в корне файл `.env` с содержимым:

```
BROWSER_LOGIN = true
```

5. Запустите сервер командой `npm run start` и убедитесь, что в консоли появилось сообщение об успешном запуске.

```
Dev server started at: http://localhost:8080/
```

6. Откройте страницу `http://localhost:8080/` в браузере.

7. Убедитесь, что вы можете авторизоваться с помощью логина и пароля от вашего аккаунта на портале Авторский Комикс.

Вы можете изменить порт, на котором запускается сервер, добавив файл `.env` с новым значение переменной окружения `PORT`, например:

```
PORT = 3000
```

## Помочь проекту

Предложения по улучшению принимаются в качестве [пул реквестов](https://github.com/mr9d/acomics-dev-server/compare).

Сообщения о багах и предложения по улучшению сервера можно отправлять [в ишью](https://github.com/mr9d/acomics-dev-server/issues/new).

> **Внимание!** Баги и улучшения _самого портала_ Авторский Комикс собираются [в репозитории acomics-public](https://github.com/mr9d/acomics-public).

Если вы хотите поддержать портал Авторский Комикс финансово:

* станьте платным подписчиком на [Boosty](https://boosty.to/acomics).
* подпишитесь на наш [VK Donut](https://vk.com/donut/acomics).
* отправьте прямой перевод любой суммы на карту Сбера: `2202 2023 9314 0797` (Александр Алексеевич К.)

Кроме финансового существуют и [другие способы поддержать нас](https://vk.com/@acomics-types-of-support).

## Способы связи

Связаться с нами можно [любым из перечисленных здесь способов](https://acomics.ru/contact).
